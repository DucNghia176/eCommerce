<header class="bg-sky-700 text-gray-50">
  <!-- Top bar -->
  <div class="container mx-auto px-4 py-1 flex justify-between items-center text-sm">
    <span>Chào mừng bạn đến với cửa hàng trực tuyến Ezone</span>

    <div class="flex items-center divide-x">
      <div class="flex flex-row px-3 gap-3 items-center">
        <span class="hidden sm:inline">Theo dõi chúng tôi:</span>
        <div class="flex gap-2 text-lg">
          <fa-icon [icon]="faTwitter" class="cursor-pointer hover:text-gray-300"></fa-icon>
          <fa-icon [icon]="faFacebook" class="cursor-pointer hover:text-gray-300"></fa-icon>
          <fa-icon [icon]="faPinterest" class="cursor-pointer hover:text-gray-300"></fa-icon>
          <fa-icon [icon]="faReddit" class="cursor-pointer hover:text-gray-300"></fa-icon>
          <fa-icon [icon]="faYoutube" class="cursor-pointer hover:text-gray-300"></fa-icon>
          <fa-icon [icon]="faInstagram" class="cursor-pointer hover:text-gray-300"></fa-icon>
        </div>
      </div>

      <div class="px-3 flex flex-row gap-3">
        <div class="flex flex-row gap-2 items-center justify-center cursor-pointer">
          <p>Vi</p>
          <fa-icon [icon]="faChevronDown" class="text-xs"></fa-icon>
        </div>
        <div class="flex flex-row gap-2 items-center justify-center cursor-pointer">
          <p>VND</p>
          <fa-icon [icon]="faChevronDown" class="text-xs"></fa-icon>
        </div>
      </div>
    </div>
  </div>

  <hr class="border-gray-500/40">

  <!-- Search + Logo + Icons -->
  <div class="container mx-auto px-4 py-3 flex items-center justify-between gap-4">
    <!-- Logo -->
    <button
      [routerLink]="['/user/']"
      class="font-bold text-2xl tracking-wide hover:text-gray-200"
      type="button">
      EZONE
    </button>

    <!-- Search -->
    <div class="relative flex-1 max-w-md">
      <input
        (keyup.enter)="onSearchInput($event)"
        class="w-full rounded-md py-2 pl-10 pr-3 text-sm text-gray-900 focus:outline-none focus:ring focus:ring-sky-500"
        placeholder="Tìm kiếm sản phẩm..."
        type="text"
      />
      <fa-icon [icon]="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></fa-icon>
    </div>

    <!-- Icons -->
    <div class="flex items-center gap-5 text-xl">

      <!-- Giỏ hàng -->
      <div (click)="onCartClick()" class="cart-wrapper hover:text-gray-300 cursor-pointer">
        <fa-icon [icon]="faCartShopping" class="cart-icon"></fa-icon>
        <nz-badge [nzCount]="cartItemCount" class="cart-badge" nzSize="small"></nz-badge>
      </div>

      <!-- User -->
      <button [nzDropdownMenu]="menuUser"
              [nzTrigger]="'click'"
              class="flex gap-2 border border-gray-200 p-2 hover:text-gray-300 cursor-pointer"
              nz-dropdown
              nzPlacement="bottomRight"
      >
        <ng-container *ngIf="isLoggedIn; else guest">
          <span>{{ (user?.fullName || '').split(' ').slice(-1)[0] || user?.username }}</span>
        </ng-container>

        <ng-template #guest>
          <span [routerLink]="['/auth/login']">Đăng nhập</span>
        </ng-template>

        <fa-icon [icon]="faUser"></fa-icon>
      </button>

      <nz-dropdown-menu #menuUser="nzDropdownMenu">
        <ul *ngIf="isLoggedIn" nz-menu>
          <li (click)="goToProfile()" nz-menu-item>Thông tin người dùng</li>
          <li (click)="goToDashboard()" nz-menu-item>Cài đặt</li>
          <li (click)="onLogout()" nz-menu-item>Đăng xuất</li>
        </ul>
      </nz-dropdown-menu>

    </div>
  </div>
</header>

<!-- Navbar -->
<nav class="bg-white shadow-sm border-t border-gray-200">
  <div class="container mx-auto px-4 py-3 flex items-center justify-between text-gray-600 text-sm">

    <!-- Left -->
    <div class="flex items-center gap-6">
      <app-all-category [categories]="categories"></app-all-category>

      <button class="flex gap-1 hover:text-sky-600">
        <fa-icon [icon]="faLocationDot"></fa-icon>
        Tra cứu đơn hàng
      </button>

      <button class="flex gap-1 hover:text-sky-600">
        <fa-icon [icon]="faRotate"></fa-icon>
        So sánh
      </button>

      <button class="flex gap-1 hover:text-sky-600">
        <fa-icon [icon]="faHeadphones"></fa-icon>
        Hỗ trợ khách hàng
      </button>

      <button class="flex gap-1 hover:text-sky-600">
        <fa-icon [icon]="faCircleInfo"></fa-icon>
        Trợ giúp
      </button>
    </div>

    <!-- Right -->
    <div class="flex items-center gap-2 font-medium hover:text-sky-600 cursor-pointer">
      <fa-icon [icon]="faPhoneVolume"></fa-icon>
      <span>+84-987-654-321</span>
    </div>
  </div>
</nav>
